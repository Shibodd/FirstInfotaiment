# FirstInfotaiment

This repo contains the source code of the software running on the display board.

IMPORTANT: The project can currently be built and run **only on Windows**, as the build is carried out by Makefiles automatically generated by TouchGFXDesigner.

## Downloading the project
The suggested way is to clone this by running `git clone --recursive https://github.com/Shibodd/FirstInfotaiment`, which automatically downloads the mmr_core repo too.  

If you instead choose to download this manually, remember to also download the [mmr_core](https://github.com/mmr-driverless/mmr_core) repo and put its content into a top level directory named mmr_core.

## Running and making changes
Make sure you're running Windows.

Everything but the **automatically generated** GUI code can be edited, built and flashed using just [STM32CubeIDE](https://www.st.com/en/development-tools/stm32cubeide.html) by opening the 
[/STM32CubeIDE/.project](https://github.com/Shibodd/FirstInfotaiment/blob/master/STM32CubeIDE/.project) file.

You can edit and simulate (without a board) the GUI via [TouchGFXDesigner](https://www.st.com/en/development-tools/touchgfxdesigner.html)
by opening the [/TouchGFX/FirstInfotaiment.touchgfx](https://github.com/Shibodd/FirstInfotaiment/blob/master/TouchGFX/FirstInfotaiment.touchgfx) file.

## A quick overlook of the project structure
The [Core](https://github.com/Shibodd/FirstInfotaiment/tree/master/Core) folder contains [main.c](https://github.com/Shibodd/FirstInfotaiment/blob/master/Core/Src/main.c)
and [user_code.c](https://github.com/Shibodd/FirstInfotaiment/blob/master/Core/Src/user_code.c),
which contains the main application logic.

The [TouchGFX/gui](https://github.com/Shibodd/FirstInfotaiment/tree/master/TouchGFX/gui) folder contains all the editable GUI code. The main loop is located in [TouchGFX/gui/src/model/Model.cpp](https://github.com/Shibodd/FirstInfotaiment/blob/master/TouchGFX/gui/src/model/Model.cpp)
